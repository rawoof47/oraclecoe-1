<app-navbar></app-navbar>

<div class="dashboard-area ptb-100">
  <div class="container">
    <div class="row">
      <!-- Sidebar Component -->
      <div class="col-lg-4 col-md-12">
        <app-recruiter-sidebar></app-recruiter-sidebar>
      </div>

      <!-- Main Content -->
      <div class="col-lg-8 col-md-12">
        <div class="profile-content">
          <form>
            <!-- Loading State -->
            <div *ngIf="isLoading" class="text-center py-5">
              <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
              <p class="mt-3">Loading profile data...</p>
            </div>

            <!-- Error State -->
            <div *ngIf="error" class="alert alert-danger">
              {{ error }}
              <button class="btn btn-sm btn-outline-danger ms-3" (click)="fetchProfileData()">Retry</button>
            </div>

            

<div *ngIf="profileData" class="profile-content-inner">
  <h2>Recruitment Dashboard</h2>
  <div class="row stats-row">
    <div class="col-lg-3 col-md-6 col-6">
      <!-- Added click handler and cursor style -->
      <div class="stats-box" (click)="navigateToPostedJobs()" style="cursor: pointer;">
        <h3>{{ stats.postedJobs }}</h3>
        <p>Posted Jobs</p>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-6">
      <div class="stats-box" 
           (click)="navigateToJobApplicants('applied')" 
           style="cursor: pointer;">
        <h3>{{ stats.applications }}</h3>
        <p>Applied</p>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-6">
      <div class="stats-box" 
           (click)="navigateToJobApplicants('shortlisted')" 
           style="cursor: pointer;">
        <h3>{{ stats.shortlisted }}</h3>
        <p>Shortlisted</p>  <!-- Changed from Interviews -->
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-6">
      <div class="stats-box" 
           (click)="navigateToJobApplicants('rejected')" 
           style="cursor: pointer;">
        <h3>{{ stats.rejected }}</h3>
        <p>Rejected</p>     <!-- Changed from Hired -->
      </div>
    </div>
  </div>
</div>

<br />

            <!-- Company Info -->
<div *ngIf="profileData" class="profile-content-inner">
  <h2>Company Information</h2>
  <div class="row">
    <div class="col-lg-6 col-md-12">
      <div class="form-group">
        <label>Company Name:</label>
        <input
          type="text"
          class="form-control"
          [value]="profileData.company_name"
          readonly
        />
      </div>
    </div>
    <!-- industries -->
    <div class="col-lg-6 col-md-12">
      <div class="form-group">
        <label>Industries:</label>
        <input
          type="text"
          class="form-control"
          [value]="profileData.industryNames?.join(', ') || 'Not specified'"
          readonly
        />
      </div>
    </div>
  </div>
  
  <!-- Updated Location Box -->
  <div class="row">
    <div class="col-lg-12 col-md-12">
      <div class="form-group">
        <label>Primary Location:</label>
        <div class="location-box">
          <div class="location-item">
            <span class="location-label">Region:</span>
            <span class="location-value">{{ regionName }}</span>
          </div>
          <div class="location-item">
            <span class="location-label">Country:</span>
            <span class="location-value">{{ countryName }}</span>
          </div>
          <div class="location-item">
            <span class="location-label">City / State:</span>
            <span class="location-value">{{ cityState }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-lg-6 col-md-12">
      <div class="form-group">
        <label>Company Size:</label>
        <input
          type="text"
          class="form-control"
          [value]="profileData.company_size || 'Not specified'"
          readonly
        />
      </div>
    </div>
    <div class="col-lg-6 col-md-12">
      <div class="form-group">
        <label>Website:</label>
        <input
          type="text"
          class="form-control"
          [value]="profileData.website || 'Not specified'"
          readonly
        />
      </div>
    </div>
  </div>
  <div class="col-lg-12 col-md-12">
    <div class="form-group">
      <label>Company Description:</label>
      <textarea class="form-control" rows="4" readonly>
{{ profileData.company_description || 'No description available' }}
      </textarea>
    </div>
  </div>
</div>

            <!-- Recruiter Profile -->
            <div *ngIf="profileData" class="profile-content-inner">
              <div class="row">
                <div class="col-lg-6 col-md-12">
                  <div class="form-group">
                    <label>Your Position:</label>
                    <input
                      type="text"
                      class="form-control"
                      [value]="profileData.recruiter_position || 'Not specified'"
                      readonly
                    />
                  </div>
                </div>
              </div>
            </div>

            
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
<app-back-to-top></app-back-to-top>