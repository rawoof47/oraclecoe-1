<!-- single-resume.component.html -->
<app-navbar />

<div class="dashboard-layout container">
  <!-- Sidebar -->
  <app-candidate-sidebar></app-candidate-sidebar>

  <!-- Main Dashboard Content -->
  <div class="dashboard-main">
    <section class="dashboard-section">
      <div class="dashboard-content">
          <div class="profile-card"> 
                  <div class="dashboard-area">
      <div class="container">
          <div class="row">
            <!-- Single Resume -->

    <!-- Loading State -->
    <div *ngIf="isLoading" class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-3">Loading profile data...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="!isLoading && errorMessage" class="alert alert-danger text-center">
      {{ errorMessage }}
    </div>
    <!-- Profile Data -->
    <div *ngIf="!isLoading && !errorMessage && candidateProfile && user" class="row ">
          <div class="col-md-12">
            <h4 class="blColor">
              {{ user.first_name }}
              {{ user.middle_name ? user.middle_name + ' ' : '' }}
              {{ user.last_name }}
            </h4>
          </div>
<div  class="col-md-5 pt-30">
            <h6 class="bColor">Email:</h6> <span>{{ user.email }}</span>
          </div>
          <div  class="col-md-2 pt-30" *ngIf="candidateProfile.experience_years">
                <h6 class="bColor">Experience:</h6>
                <span>{{ candidateProfile.experience_years }} years</span>
          </div>
           <div class="col-md-2 pt-30" *ngIf="candidateProfile.gender">
                <h6 class="bColor">Gender:</h6>
                <span>{{ candidateProfile.gender }}</span>
           </div>
           <div class="col-md-3 pt-30" *ngIf="candidateProfile.notice_period">
                <h6 class="bColor">Notice Period:</h6>
                <span>{{ candidateProfile.notice_period }}</span>
           </div>
          
<div class="col-lg-12 col-md-12">
          <div class="details-item">
          <!-- About Me -->
          <div class="profile bottom-item pt-30" *ngIf="candidateProfile.about_me">
            <h5>About Me</h5>
            <p>{{ candidateProfile.about_me }}</p>
          </div>

          <!-- Professional Summary -->
          <div class="profile bottom-item" *ngIf="candidateProfile.professional_summary">
 <h5>Professional Summary</h5>
             <p>{{ candidateProfile.professional_summary }}</p>
          </div>

          <!-- Education -->
          <div class="profile bottom-item" *ngIf="candidateProfile.education">
            <h5>Education</h5>
            <p>{{ candidateProfile.education }}</p>
          </div>

          <!-- Skills Section -->
          <div class="skills bottom-item" *ngIf="skills.length > 0">
             <h5>Skills</h5>
            <div class="skills-wrap">
              <div class="skill-tags">
                <span *ngFor="let skill of skills" class="skill-tag">
                  {{ skill }}
                </span>
              </div>
            </div>
          </div>

          <!-- Certifications Section -->
          <div class="profile bottom-item pt-30" *ngIf="certifications.length > 0">
            <h5>Certifications</h5>
            <ul class="certification-list">
              <li *ngFor="let cert of certifications">
                {{ cert }}
              </li>
            </ul>
          </div>

          <!-- Social Links -->
          <div class="profile bottom-item pt-30" *ngIf="candidateProfile.social_links">
            <h5>Social Links</h5>
            <div [innerHTML]="candidateProfile.social_links | linkify"></div>
          </div>

          <!-- Resume Download -->
          <div class="profile bottom-item pt-30" *ngIf="candidateProfile.resume_link">
            <a
              [href]="candidateProfile.resume_link"
              target="_blank"
              class="btn btn-primary"
            >
<i class="fa-solid fa-download"></i>  Download Resume            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="!isLoading && !errorMessage && (!candidateProfile || !user)" class="text-center py-5">
      <h3>No Profile Found</h3>
      <p>Please create your candidate profile to view it here.</p>
    </div>
          </div>
        </div>
    </div>
          </div>
      </div>
    </section>
  </div>
</div>
<app-footer />
<app-back-to-top />