<div class="user-form-area">
  <div class="d-table">
    <div class="d-table-cell">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col-lg-7 col-md-7 d-md-block">
            <div class="user-img" style="background-image: url('/assets/img/resgister-bg.jpg');">
              <!-- Background image -->
            </div>
          </div>
          <div class="col-lg-5 col-md-5 col-12">
            <div class="user-content">
              <div class="top">
                <h2 class="mb-4">Set a New Password</h2>

                <form [formGroup]="resetForm" (ngSubmit)="onSubmit()">
                  <!-- New Password -->
                  <div class="form-group mb-3">
                    <input
                      type="password"
                      class="form-control"
                      formControlName="newPassword"
                      placeholder="New Password"
                    />
                    <div *ngIf="resetForm.get('newPassword')?.touched && resetForm.get('newPassword')?.invalid" class="text-danger mt-1">
                      <small *ngIf="resetForm.get('newPassword')?.errors?.['required']">Password is required.</small>
                      <small *ngIf="resetForm.get('newPassword')?.errors?.['minlength']">Minimum 6 characters.</small>
                    </div>
                  </div>

                  <!-- Confirm Password -->
                  <div class="form-group mb-3">
                    <input
                      type="password"
                      class="form-control"
                      formControlName="confirmPassword"
                      placeholder="Confirm Password"
                    />
                    <div *ngIf="resetForm.errors?.['mismatch'] && resetForm.get('confirmPassword')?.touched" class="text-danger mt-1">
                      <small>Passwords do not match.</small>
                    </div>
                  </div>

                  <!-- Alert Message -->
                  <div *ngIf="message" class="alert alert-{{messageType}} mt-3">
                    {{ message }}
                  </div>

                  <!-- Submit Button -->
                  <button
                    type="submit"
                    class="btn btn-primary"
                    [disabled]="isSubmitting || resetForm.invalid"
                  >
                    <span *ngIf="!isSubmitting">Reset Password</span>
                    <span *ngIf="isSubmitting">Submitting...</span>
                  </button>
                </form>

                <div class="switch-link mt-3">
                  <a routerLink="/login">Back to Login</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
