<app-navbar></app-navbar>

<main class="candidate-profile">
  <header class="candidate-profile__header">
    <h1>Candidate Profile</h1>
    <p>Complete your profile to increase visibility to employers</p>
  </header>

  <form class="profile-form" [formGroup]="profileForm" (ngSubmit)="onSubmit()">

    <!-- Personal Information Section -->
    <section class="form-section">
      <h2 class="form-section__title">Personal Information</h2>
      
      <div class="name-group">
        <div class="form-group">
          <label for="firstName" class="form-group__label form-group__label--required">First Name</label>
          <input id="firstName" type="text" formControlName="firstName" maxlength="50" required />
        </div>
        
        <div class="form-group">
          <label for="middleName" class="form-group__label">Middle Name</label>
          <input id="middleName" type="text" formControlName="middleName" maxlength="50" />
        </div>
        
        <div class="form-group">
          <label for="lastName" class="form-group__label form-group__label--required">Last Name</label>
          <input id="lastName" type="text" formControlName="lastName" maxlength="50" required />
        </div>
      </div>
      
      <div class="form-group">
        <label for="about_me" class="form-group__label">About Me</label>
        <textarea id="about_me" formControlName="about_me" placeholder="Brief personal introduction"></textarea>
      </div>
    </section>
    
    <!-- Professional Information Section -->
    <section class="form-section">
      <h2 class="form-section__title">Professional Information</h2>
      
      <div class="form-group">
        <label for="professional_summary" class="form-group__label">Professional Summary</label>
        <textarea id="professional_summary" formControlName="professional_summary" placeholder="Career highlights and expertise"></textarea>
      </div>
      
      <div class="form-group">
        <label for="social_links" class="form-group__label">Social Links</label>
        <textarea id="social_links" formControlName="social_links" placeholder="Comma-separated URLs (LinkedIn, GitHub, etc.)"></textarea>
      </div>
      
      <div class="form-group">
        <label for="resume_link" class="form-group__label">Resume Link</label>
        <input id="resume_link" type="url" formControlName="resume_link" placeholder="https://example.com/resume.pdf" />
      </div>
      
      <div class="form-group">
        <label for="education" class="form-group__label">Education</label>
        <textarea id="education" formControlName="education" placeholder="Degrees, institutions, and years"></textarea>
      </div>
      
      <div class="form-group">
        <label for="experience_years" class="form-group__label">Experience (Years)</label>
        <input id="experience_years" type="number" formControlName="experience_years" min="0" max="50" />
      </div>
      
      <div class="form-group">
        <label for="notice_period" class="form-group__label">Notice Period</label>
        <select 
          id="notice_period" 
          formControlName="notice_period" 
          class="form-control"
        >
          <option value="">Select Notice Period</option>
          <option value="Immediate">Immediate</option>
          <option value="< 1 Month">&lt; 1 Month</option>
          <option value="1 Month">1 Month</option>
          <option value="2 Months">2 Months</option>
          <option value="3 Months">3 Months</option>
        </select>
      </div>
    </section>
    
    <!-- Skills & Certifications Section -->
    <section class="form-section">
      <h2 class="form-section__title">Skills & Certifications</h2>
      
      <div class="form-group">
        <label class="form-group__label">Skills</label>
        <div class="dropdown" #skillsDropdown>
          <div class="dropdown__header" (click)="toggleSkillsDropdown()">
            <span>{{ getSkillsDropdownLabel() }}</span>
            <span class="arrow">&#9662;</span>
          </div>

          <div class="dropdown__list" *ngIf="showSkillsDropdown">
            <div *ngFor="let group of groupedSkills" class="dropdown__group">
              <div class="dropdown__group-title">{{ group.categoryName }}</div>
              <div *ngFor="let skill of group.items" class="dropdown__item">
                <input
                  type="checkbox"
                  [checked]="skill.selected"
                  (change)="onSkillChange(skill)"
                  [id]="'skill-' + skill.id"
                />
                <label [for]="'skill-' + skill.id">
                  {{ skill.name || 'Unnamed Skill' }}
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-group__label">Certifications</label>
        <div class="dropdown" #certsDropdown>
          <div class="dropdown__header" (click)="toggleCertsDropdown()">
            <span>{{ getCertsDropdownLabel() }}</span>
            <span class="arrow">&#9662;</span>
          </div>

          <div class="dropdown__list" *ngIf="showCertsDropdown">
            <div *ngFor="let group of groupedCertifications" class="dropdown__group">
              <div class="dropdown__group-title">{{ group.categoryName }}</div>
              <div *ngFor="let cert of group.items" class="dropdown__item">
                <input
                  type="checkbox"
                  [checked]="cert.selected"
                  (change)="onCertChange(cert)"
                  [id]="'cert-' + cert.id"
                />
                <label [for]="'cert-' + cert.id">
                  {{ cert.name || 'Unnamed Certification' }}
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Form Actions -->
    <div class="form-actions">
      <button type="submit" [disabled]="isSubmitting">Save Profile</button>
    </div>
  </form>
</main>

<app-footer></app-footer>
<app-back-to-top></app-back-to-top>