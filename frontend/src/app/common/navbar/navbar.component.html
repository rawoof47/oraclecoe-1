<div class="navbar-area fixed-top">
  <div class="main-nav">
    <div class="container-fluid">
      <nav class="navbar navbar-expand-lg navbar-light w-100">

        <!-- Logo -->
        <a class="navbar-brand logo-container" routerLink="/">
  <img src="img/logo.png" alt="Logo" class="logo-lg" />
</a>


        <!-- Toggle Button -->
        <button class="navbar-toggler shadow-none rounded-0" type="button" (click)="navbarToggleClass()">
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Left Menu -->
        <div class="collapse navbar-collapse">
          <ul class="navbar-nav me-auto">
            <li class="nav-item"><a routerLink="/index-2" class="nav-link" routerLinkActive="active">Home</a></li>
            <li class="nav-item"><a routerLink="/jobs" class="nav-link" routerLinkActive="active">Jobs</a></li>
            <li class="nav-item"><a routerLink="/employers" class="nav-link" routerLinkActive="active">Companies</a></li>
            <li class="nav-item"><a routerLink="/about" class="nav-link" routerLinkActive="active">About</a></li>
            <li class="nav-item"><a routerLink="/contact" class="nav-link" routerLinkActive="active">Contact</a></li>
 <!-- Role-based Menu Item -->
 <ng-container *ngIf="userRole$ | async as role">
  <li class="nav-item" *ngIf="(userRole$ | async) === 'candidate' || (userRole$ | async) === 'recruiter'">
</ng-container>
          
          </ul>
        </div>

        <!-- Right Side -->
        <ul class="navbar-nav ms-auto d-flex align-items-center">

          <!-- Post Job Button -->
          <li class="nav-item" *ngIf="(userRole$ | async) === 'recruiter'">
            <a routerLink="/post-a-job" class="post-job-button d-flex align-items-center text-white text-decoration-none nav-link">
              <span class="post-label">Post A Job</span>
              <span class="post-icon">+</span>
            </a>
          </li>

          <!-- Profile Dropdown -->
          <li class="nav-item dropdown" *ngIf="isLoggedIn$ | async">
            <a class="profile-dropdown-toggle nav-link" href="javascript:void(0)" data-bs-toggle="dropdown" aria-expanded="false" aria-label="User profile menu">
              <div class="profile-icon-container">
                <img src="/img/icons8-name-48.png" alt="Profile Icon" class="profile-avatar" />
              </div>
            </a>
            <ul class="dropdown-menu dropdown-menu-end profile-dropdown">

              <!-- Candidate Dashboard -->
              <li *ngIf="(userRole$ | async) === 'candidate'">
                <a class="dropdown-item" routerLink="/dashboard">
                  <mat-icon class="me-2 menuIcon">person</mat-icon>My Profile
                </a>
              </li>

              <!-- Recruiter Dashboard -->
              <li *ngIf="(userRole$ | async) === 'recruiter'">
                <a class="dropdown-item" routerLink="/recruiter-dashboard">
                  <mat-icon class="me-2 menuIcon">dashboard</mat-icon>Dashboard
                </a>
              </li>

              <!-- Common Options -->
              <li>
                <a class="dropdown-item" routerLink="/settings">
                  <mat-icon class="me-2 menuIcon">settings</mat-icon>Account Settings
                </a>
              </li>
              <li>
                <a class="dropdown-item" routerLink="/notifications">
                  <mat-icon class="me-2 menuIcon">notifications</mat-icon>
                  Notifications <span class="notification-badge">3</span>
                </a>
              </li>
              <li><hr class="dropdown-divider"></li>
              <li>
                <a class="dropdown-item logout-item" (click)="logout()">
                  <mat-icon class="me-2 menuIcon">logout</mat-icon>Log Out
                </a>
              </li>
            </ul>
          </li>

          <!-- Login/Register -->
          <li class="nav-item dropdown" *ngIf="!(isLoggedIn$ | async)">
            <a href="javascript:void(0)" class="nav-link dropdown-toggle text-primary" data-bs-toggle="dropdown">
              <mat-icon class="me-1">login</mat-icon> Login/Register
              <mat-icon class="ms-1">arrow_drop_down</mat-icon>
            </a>
            <ul class="dropdown-menu dropdown-menu-end">
              <li><a routerLink="/login" class="dropdown-item">Login</a></li>
              <li><a routerLink="/register" class="dropdown-item">Register</a></li>
            </ul>
          </li>

        </ul>

      </nav>
    </div>
  </div>
</div>
